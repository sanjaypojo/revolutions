<html>
  <head>
    <title>Revolutions by @sanjaypojo</title>
    <style>
      body {background-color: #333; color: #fff;}
      header {position: fixed; font-family: helvetica, times, sans-serif; padding-left: 10px;}
      h1 {margin-bottom: 5px; margin-left: -5px;}
      #svg-canvas {background-color: #333;}
    </style>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  </head>
  <body>
    <header>
      <h1>Revolutions</h1>
      by @sanjaypojo
    </header>
    <br>
    <div id="solar-system">
      <svg id="svg-canvas"></svg>
    </div>
  </body>
  <script>
    var planets = [
    {name:"Mercury", size: 0.38, radius: 1, period: 0.241},
    {name:"Venus", size: 0.95, radius: 2, period: 0.615},
    {name:"Earth", size: 1, radius: 3, period: 1},
    {name:"Mars", size: 0.53, radius: 4, period: 1.88},
    {name:"Jupiter", size: 11.19, radius: 5, period: 11.9},
    {name:"Saturn", size: 9.4, radius: 6, period: 29.5},
    {name:"Uranus", size: 4.04, radius: 7, period: 84},
    {name:"Neptune", size: 3.88, radius: 8, period: 165},
    {name:"Pluto", size: 0.18, radius: 9, period: 248}
    ];
    var pallete = d3.scale.category10().range();
    var svgFrame = d3.select("#svg-canvas").style("height", "1000px")
      .style("width", "1200px");
    svgFrame.selectAll('ellipse').data(planets).enter().append('ellipse')
      .attr("cx", 600)
      .attr("cy", 500)
      .attr("rx", function(d) {return d.radius*50;})
      .attr("ry", function(d) {return d.radius*50;})
      .style("stroke", "#000").style("fill", "none");
    svgFrame.selectAll('circle').data(planets).enter().append('circle')
      .attr("cx",0)
      .attr("cy", 0)
      .attr("r", function(d) {return Math.log(d.size*10)*5;})
      .style("fill", function(d, i) {return pallete[i];})
    var ctr = 0;
    d3.timer(function(e) {
      ctr += 20;
      svgFrame.selectAll("circle").attr("cx", function(d) {
        return 600 + d.radius * 50 * Math.cos((ctr/(d.period*500))%(2*Math.PI));
      }).attr("cy", function(d) {
        return 500 + d.radius * 50 * Math.sin((ctr/(d.period*500))%(2*Math.PI));
      })
      return false;
    });
  </script>
</html>
